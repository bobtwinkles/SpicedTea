package tk.sirtwinkles.spicedtea.world.gen.dungeon.carve;

import static tk.sirtwinkles.spicedtea.MathUtils.random;
import static tk.sirtwinkles.spicedtea.world.gen.TileSetProvider.FLOOR;

import java.util.ArrayList;

public class CarveDungeonGenerator {
	private static ArrayList<Feature> FEATURES;
	
	static {
		//TODO: load this from JSON
		FEATURES = new ArrayList<Feature>();
		FEATURES.add(new FeatureCorridor());
		FEATURES.add(new FeatureRoom());
	}
	
	public static void generate(int width, int height, int depth, int[][] data) {
		genCenterRoom(width, height, data);
		//Try to generate features.
		int rx, ry;
		for (int i = 0; i < width * height; ++i) {
			rx = 1 + random.nextInt(width - 2);
			ry = 1 + random.nextInt(height - 2);
		}
	}

	private static void genCenterRoom(int width, int height, int[][] data) {
		//Random constants 4 days
		int w = width / 5;
		int h = height / 5;
		int sx = width / 2 - w / 2;
		int sy = height / 2 - h / 2;
		for (int x = sx; x < sx + w; ++x) {
			for (int y = sy; y < sy + h; ++y) {
				data[x][y] = FLOOR;
			}
		}
	}
}
